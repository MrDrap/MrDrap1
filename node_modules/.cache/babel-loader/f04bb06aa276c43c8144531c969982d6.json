{"ast":null,"code":"import _slicedToArray from\"/Users/macbook/Documents/Work/MrDrap1/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';function Table(_ref){var columns=_ref.columns,data=_ref.data,onRowClick=_ref.onRowClick,_ref$actions=_ref.actions,actions=_ref$actions===void 0?[]:_ref$actions,itemsPerPage=_ref.itemsPerPage,_ref$selectable=_ref.selectable,selectable=_ref$selectable===void 0?false:_ref$selectable;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState(itemsPerPage?data.slice((page-1)*itemsPerPage,page*itemsPerPage):data),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedRowIndex=_useState6[0],setSelectedRowIndex=_useState6[1];useEffect(function(){if(itemsPerPage){setItems(data.slice((page-1)*itemsPerPage,page*itemsPerPage));}},[page]);var handleRowClick=function handleRowClick(event){setSelectedRowIndex(event.target.id);if(onRowClick){onRowClick();}};var pageCount=Math.ceil(parseFloat(data.length/itemsPerPage));var pagesButtons=function pagesButtons(){var pagesButtons=[];if(pageCount>6){var _loop=function _loop(index){pagesButtons.push(React.createElement(\"button\",{className:page===index?'page-button selected':'page-button',onClick:function onClick(){return setPage(index);},key:index},index,\" \"));};// first three pages\nfor(var index=1;index<4;index++){_loop(index);}// ellipsis '...'\npagesButtons.push(React.createElement(\"div\",{className:\"ellipsis\",key:\"ellipsis\"},\"\\u2026\"));// last three pages\nvar _loop2=function _loop2(_index){pagesButtons.push(React.createElement(\"button\",{className:page===_index?'page-button selected':'page-button',onClick:function onClick(){return setPage(_index);},key:_index},_index,\" \"));};for(var _index=pageCount-2;_index<pageCount+1;_index++){_loop2(_index);}}else{var _loop3=function _loop3(_index2){pagesButtons.push(React.createElement(\"button\",{className:page===_index2?'page-button selected':'page-button',onClick:function onClick(){return setPage(_index2);},key:_index2},_index2,\" \"));};for(var _index2=1;_index2<pageCount+1;_index2++){_loop3(_index2);}}return pagesButtons;};return React.createElement(React.Fragment,null,React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,columns.map(function(column){return column.subColumns?column.subColumns.map(function(subColumn){return React.createElement(\"th\",{key:subColumn.title},subColumn.title);}):React.createElement(\"th\",{key:column.title},column.title);}))),React.createElement(\"tbody\",null,items.map(function(item,itemIndex){return React.createElement(\"tr\",{className:\"\".concat(onRowClick?'clickable':'',\" \").concat(selectable&&(itemIndex===parseInt(selectedRowIndex)?'selected':'')),key:\"\".concat(itemIndex,\"-tr\")},Object.values(item).map(function(value,index){return columns[index].subColumns?columns[index].subColumns.map(function(subColumn,innerIndex){return React.createElement(\"td\",{onClick:handleRowClick,key:\"\".concat(innerIndex,\"-td-sub\"),style:columns[index].subColumns[innerIndex].styles},subColumn.format?subColumn.format(subColumn.accessor(value)):subColumn.accessor(value));}):React.createElement(\"td\",{onClick:handleRowClick,key:\"\".concat(index,\"-td\"),style:columns[index].styles,id:itemIndex},\" \",columns[index].format?columns[index].format(value):value,\" \");}),actions.length>0&&React.createElement(\"td\",{className:\"table-actions\"},actions.map(function(action,index){return React.createElement(\"div\",{key:\"\".concat(index,\"-actions\")},\" \",action,\" \");})));}))),itemsPerPage&&React.createElement(\"div\",{className:\"table-pagination\"},React.createElement(\"button\",{className:\"left\",onClick:function onClick(){return setPage(page-1);},disabled:page===1},React.createElement(ArrowIcon,{fill:page===1?'#DCDCDC':'#1AA5B8'})),pagesButtons(),React.createElement(\"button\",{onClick:function onClick(){return setPage(page+1);},disabled:page>=pageCount},React.createElement(ArrowIcon,{fill:page>=pageCount?'#DCDCDC':'#1AA5B8'}))));}function ArrowIcon(_ref2){var fill=_ref2.fill;return React.createElement(\"svg\",{width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},React.createElement(\"path\",{d:\"M8 2.65625L13.3438 8L8 13.3438L7.0625 12.4062L10.7812 8.65625H2.65625V7.34375H10.7812L7.0625 3.59375L8 2.65625Z\",fill:fill}));}export default Table;","map":{"version":3,"sources":["/Users/macbook/Documents/Work/MrDrap1/src/components/Table/Table.jsx"],"names":["React","useState","useEffect","Table","columns","data","onRowClick","actions","itemsPerPage","selectable","page","setPage","slice","items","setItems","selectedRowIndex","setSelectedRowIndex","handleRowClick","event","target","id","pageCount","Math","ceil","parseFloat","length","pagesButtons","index","push","map","column","subColumns","subColumn","title","item","itemIndex","parseInt","Object","values","value","innerIndex","styles","format","accessor","action","ArrowIcon","fill"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Table({ columns, data, onRowClick, actions = [], itemsPerPage, selectable = false }) {\n  const [page, setPage] = useState(1);\n  const [items, setItems] = useState(itemsPerPage ? data.slice((page - 1) * itemsPerPage , page * itemsPerPage) : data);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(null);\n  \n  \n  useEffect(() => {\n    if (itemsPerPage) {\n      setItems(data.slice((page - 1) * itemsPerPage , page * itemsPerPage));\n    }\n  }, [page]);\n\n  const handleRowClick = event => {\n    setSelectedRowIndex(event.target.id);\n    if (onRowClick) {\n      onRowClick();\n    }\n  };\n\n  const pageCount = Math.ceil(parseFloat(data.length / itemsPerPage));\n\n  const pagesButtons = () => {\n    const pagesButtons = [];\n    \n    if (pageCount > 6) {\n      // first three pages\n      for (let index = 1; index < 4; index++) {\n        pagesButtons.push(<button className={page === index ? 'page-button selected' : 'page-button'} onClick={() => setPage(index)} key={ index }>{ index } </button>)\n      }\n      // ellipsis '...'\n      pagesButtons.push(<div className=\"ellipsis\" key=\"ellipsis\">&#8230;</div>);\n\n      // last three pages\n      for (let index = pageCount - 2; index < pageCount + 1; index++) {\n        pagesButtons.push(<button className={page === index ? 'page-button selected' : 'page-button'} onClick={() => setPage(index)} key={ index }>{ index } </button>)\n      }\n      \n    } else {\n      for (let index = 1; index < pageCount + 1; index++) {\n        pagesButtons.push(<button className={page === index ? 'page-button selected' : 'page-button'} onClick={() => setPage(index)} key={ index }>{ index } </button>);\n      }\n    }\n\n    return pagesButtons;\n  };\n\n  return (\n    <>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            { columns.map(column => {\n                return column.subColumns\n                  ? column.subColumns.map(subColumn => <th key={ subColumn.title }>{ subColumn.title }</th>)\n                  : <th key={ column.title }>{ column.title }</th>\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          { items.map((item, itemIndex) => (\n              <tr className={ `${ onRowClick ? 'clickable' : '' } ${ selectable && (itemIndex === parseInt(selectedRowIndex) ? 'selected' : '') }` } key={ `${ itemIndex }-tr` }>\n                { Object.values(item).map((value, index) => {\n                    return columns[index].subColumns \n                      ? columns[index].subColumns.map((subColumn, innerIndex) => \n                          <td onClick={ handleRowClick } key={ `${ innerIndex }-td-sub` } style={ columns[index].subColumns[innerIndex].styles }> \n                            { subColumn.format ? subColumn.format(subColumn.accessor(value)): subColumn.accessor(value) } \n                          </td>\n                        )\n                      : <td onClick={ handleRowClick } key={ `${ index }-td` } style={ columns[index].styles } id={ itemIndex }> { columns[index].format ? columns[index].format(value): value } </td>\n          \n                })}\n                { actions.length > 0 && (\n                    <td className=\"table-actions\">\n                      { \n                        actions.map((action, index) => <div key={`${ index }-actions`}> { action } </div>)\n                      }\n                    </td>\n                )}\n                \n              </tr>\n          ))}\n        </tbody>     \n      </table>\n      { itemsPerPage &&\n          <div className=\"table-pagination\">   \n            <button className=\"left\" onClick={ () => setPage(page - 1) } disabled={ page === 1 } >\n              <ArrowIcon fill={ page === 1 ? '#DCDCDC' :'#1AA5B8' } />\n            </button>\n            { pagesButtons() }\n            <button onClick={ () => setPage(page + 1) } disabled={ page >= pageCount  }>\n              <ArrowIcon fill={ page >= pageCount ? '#DCDCDC' :'#1AA5B8' } />\n            </button>\n          </div>\n      }\n  \n    </>\n  );\n}\n\nfunction ArrowIcon({ fill }) {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M8 2.65625L13.3438 8L8 13.3438L7.0625 12.4062L10.7812 8.65625H2.65625V7.34375H10.7812L7.0625 3.59375L8 2.65625Z\" fill={ fill } />\n    </svg>\n  );\n}\n\nexport default Table;"]},"metadata":{},"sourceType":"module"}