{"ast":null,"code":"import React,{useRef}from'react';import{NavLink}from'react-router-dom';import logo from\"../../assets/logo.svg\";import'./header.scss';import RoleBasedRender from'../RoleBasedRender/RoleBasedRender';import{Dropdown}from'semantic-ui-react';import{connect}from'react-redux';import{setUserRole}from'../../store/user/actions';import WithdrawMoneyModal from\"../modals/WithdrawModey/WithdrawMoneyModal\";import ReplenishModal from\"../modals/Replenish/ReplenishModal\";var ROLE_OPTIONS=[{key:'Клиент',text:'Клиент',value:'Клиент'},{key:'Администратор',text:'Администратор',value:'Администратор'},{key:'Менеджер',text:'Менеджер',value:'Менеджер'},{key:'Наблюдатель',text:'Наблюдатель',value:'Наблюдатель'}];function Header(_ref){var userRole=_ref.userRole,setUserRole=_ref.setUserRole,contractStatus=_ref.contractStatus;var handleRoleChange=function handleRoleChange(event,data){return setUserRole(data.value);};var childWithdrawRef=useRef();var childReplenishRef=useRef();return React.createElement(React.Fragment,null,React.createElement(WithdrawMoneyModal,{ref:childWithdrawRef}),React.createElement(ReplenishModal,{ref:childReplenishRef}),React.createElement(Dropdown,{value:userRole,fluid:true,className:\"small-input app-dropdown-button\",selection:true,onChange:handleRoleChange,options:ROLE_OPTIONS}),React.createElement(\"nav\",null,React.createElement(\"ul\",null,React.createElement(\"li\",{className:\"logo\"},React.createElement(\"img\",{src:logo,alt:\"logo\"}),\" \",React.createElement(\"span\",{className:\"logoText\"},\"\\u043E\\u0431\\u043C\\u0435\\u043D- \",React.createElement(\"br\",null),\"\\u043D\\u0438\\u043A\")),React.createElement(RoleBasedRender,{requiredRoles:['Администратор','Менеджер','Наблюдатель']},React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/contract\"},\"\\u041A\\u043E\\u043D\\u0442\\u0440\\u0430\\u043A\\u0442\",!contractStatus&&React.createElement(\"span\",{className:\"headerText\"},\"(\\u041F\\u0440\\u0438\\u043E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D)\"))),React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/users\"},\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438\")),React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/addresses\"},\"\\u0410\\u0434\\u0440\\u0435\\u0441\\u0430\")),React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/journal\"},\"\\u0416\\u0443\\u0440\\u043D\\u0430\\u043B\"))),React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/transactions\"},\"\\u0422\\u0440\\u0430\\u043D\\u0437\\u0430\\u043A\\u0446\\u0438\\u0438\")),React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",activeClassName:\"active\",to:\"/profile\"},\"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"))),React.createElement(\"div\",{className:\"balans\"},React.createElement(RoleBasedRender,{requiredRoles:['Клиент']},React.createElement(\"div\",null,React.createElement(\"span\",null,\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441 532 \\u20BD \"),React.createElement(\"button\",{className:\"primary-button\",type:\"button\",onClick:function onClick(){return childReplenishRef.current.showModal();}},\"\\u041F\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C\"),React.createElement(\"button\",{className:\"secondary-button\",onClick:function onClick(){return childWithdrawRef.current.showModal();}},\"\\u0421\\u043D\\u044F\\u0442\\u044C\"))),React.createElement(\"ul\",null,React.createElement(RoleBasedRender,{requiredRoles:['Администратор','Менеджер','Наблюдатель']},React.createElement(\"li\",null,React.createElement(\"span\",{className:\"headerText\"},userRole))),React.createElement(\"li\",{className:\"logo\"},React.createElement(NavLink,{className:\"link linkBorder\",to:\"\"},\"mail@mail.mail \",React.createElement(\"span\",{className:\"caret\"})),React.createElement(\"div\",null,React.createElement(\"ul\",null,React.createElement(\"li\",null,React.createElement(NavLink,{className:\"link\",to:\"/profile\"},\"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B\")))))))));}var mapStateToProps=function mapStateToProps(state){return{userRole:state.user.role,contractStatus:state.contract.status};};var mapDispatchToProps={setUserRole:setUserRole};export default connect(mapStateToProps,mapDispatchToProps)(Header);","map":{"version":3,"sources":["/Users/macbook/Documents/Work/MrDrap1/src/components/Header/header.jsx"],"names":["React","useRef","NavLink","RoleBasedRender","Dropdown","connect","setUserRole","WithdrawMoneyModal","ReplenishModal","ROLE_OPTIONS","key","text","value","Header","userRole","contractStatus","handleRoleChange","event","data","childWithdrawRef","childReplenishRef","logo","current","showModal","mapStateToProps","state","user","role","contract","status","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, {useRef} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport logo from '../../assets/logo.svg'\nimport './header.scss'\nimport RoleBasedRender from '../RoleBasedRender/RoleBasedRender';\nimport { Dropdown } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { setUserRole } from '../../store/user/actions';\nimport WithdrawMoneyModal from \"../modals/WithdrawModey/WithdrawMoneyModal\";\nimport ReplenishModal from \"../modals/Replenish/ReplenishModal\";\n\nconst ROLE_OPTIONS = [\n  {\n    key: 'Клиент',\n    text: 'Клиент',\n    value: 'Клиент',\n  },\n  {\n    key: 'Администратор',\n    text: 'Администратор',\n    value: 'Администратор',\n  },\n  {\n    key: 'Менеджер',\n    text: 'Менеджер',\n    value: 'Менеджер',\n  },\n  {\n    key: 'Наблюдатель',\n    text: 'Наблюдатель',\n    value: 'Наблюдатель',\n  }\n];\n\nfunction Header({ userRole, setUserRole, contractStatus }) {\n  const handleRoleChange = (event, data) => setUserRole(data.value);\n\n  const childWithdrawRef = useRef();\n  const childReplenishRef = useRef();\n  return (\n    <>\n      <WithdrawMoneyModal ref={childWithdrawRef}/>\n      <ReplenishModal ref={childReplenishRef}/>\n      <Dropdown\n          value={ userRole }\n          fluid\n          className=\"small-input app-dropdown-button\"\n          selection\n          onChange={ handleRoleChange }\n          options={ROLE_OPTIONS}\n      />\n      <nav>\n        <ul>\n          <li className=\"logo\"><img src={logo} alt=\"logo\"/> <span className=\"logoText\">обмен- <br/>ник</span></li>\n          <RoleBasedRender requiredRoles={ ['Администратор', 'Менеджер', 'Наблюдатель'] } >\n            <li>\n              <NavLink className=\"link\" activeClassName=\"active\" to=\"/contract\">Контракт\n                {!contractStatus && (<span className=\"headerText\">(Приостановлен)</span>)}\n              </NavLink></li>\n            <li><NavLink className=\"link\" activeClassName=\"active\" to=\"/users\">Пользователи</NavLink></li>\n            <li><NavLink className=\"link\" activeClassName=\"active\" to=\"/addresses\">Адреса</NavLink></li>\n            <li><NavLink className=\"link\" activeClassName=\"active\" to=\"/journal\">Журнал</NavLink></li>\n          </RoleBasedRender>\n          <li><NavLink className=\"link\" activeClassName=\"active\" to=\"/transactions\">Транзакции</NavLink></li>\n          <li><NavLink className=\"link\" activeClassName=\"active\" to=\"/profile\">Мой профиль</NavLink></li>\n        </ul>\n    \n        <div className=\"balans\">\n          <RoleBasedRender requiredRoles={ ['Клиент'] } >\n            <div>\n              <span>Баланс 532 ₽ </span>\n              <button className=\"primary-button\" type=\"button\" onClick={() => childReplenishRef.current.showModal()}>Пополнить</button>\n              <button className='secondary-button' onClick={() => childWithdrawRef.current.showModal()}>Снять</button>\n            </div>\n          </RoleBasedRender>\n          <ul>\n            <RoleBasedRender requiredRoles={ ['Администратор', 'Менеджер', 'Наблюдатель'] } >\n              <li><span className=\"headerText\">{userRole}</span></li>\n            </RoleBasedRender>\n            <li className=\"logo\">\n              <NavLink className=\"link linkBorder\" to=''>mail@mail.mail <span className=\"caret\"></span></NavLink>\n              <div>\n                <ul>\n                  <li><NavLink className=\"link\" to=\"/profile\">Выйти из системы</NavLink></li>\n                </ul>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    </>\n  );\n}\n\nconst mapStateToProps = state => ({\n  userRole: state.user.role,\n  contractStatus: state.contract.status,\n});\n\nconst mapDispatchToProps= {\n  setUserRole,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n"]},"metadata":{},"sourceType":"module"}