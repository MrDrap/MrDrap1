{"ast":null,"code":"import _defineProperty from\"/Users/macbook/Documents/Work/MrDrap1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/macbook/Documents/Work/MrDrap1/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState}from'react';import'./UserProfile.scss';import{Dropdown}from\"semantic-ui-react\";import{connect}from'react-redux';import RoleBasedRender from'../RoleBasedRender/RoleBasedRender';import{Link}from\"react-router-dom\";var ROLE_OPTIONS=[{key:'Клиент',text:'Клиент',value:'Клиент'},{key:'Администратор',text:'Администратор',value:'Администратор'},{key:'Менеджер',text:'Менеджер',value:'Менеджер'},{key:'Наблюдатель',text:'Наблюдатель',value:'Наблюдатель'}];var TIMEZONE_OPTIONS=[{key:'Россия, Москва',text:'Россия, Москва',value:'Россия, Москва'},{key:'Россия, Владивосток',text:'Россия, Владивосток',value:'Россия, Владивосток'}];var ADDRESS_OPTIONS=[{key:'0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756',text:'0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756',value:'0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756'},{key:'0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F',text:'0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F',value:'0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F'}];function UserProfile(_ref){var user=_ref.user,onSubmit=_ref.onSubmit,title=_ref.title,currentUserRole=_ref.currentUserRole;var _useState=useState(user),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();onSubmit(formState);};var resetChanges=function resetChanges(event){event.preventDefault();setFormState(user);};var shouldDisable=currentUserRole==='Наблюдатель'&&user.role!=='Наблюдатель';return React.createElement(\"div\",{className:\"profile-page\"},React.createElement(\"form\",null,React.createElement(\"h1\",null,title),React.createElement(\"div\",{className:\"app-input-group\"},React.createElement(RoleBasedRender,{requiredRoles:['Администратор']},React.createElement(\"div\",{className:\"input-with-help-text\"},React.createElement(\"div\",{className:\"app-input role-select\"},React.createElement(\"label\",null,\"\\u0420\\u043E\\u043B\\u044C\"),React.createElement(Dropdown,{defaultValue:formState.role,onChange:function onChange(event,_ref2){var value=_ref2.value;return setFormState(_objectSpread({},formState,{role:value}));},fluid:true,className:\"small-input app-dropdown-button\",selection:true,options:ROLE_OPTIONS})),title==='Мой профиль'&&React.createElement(\"div\",{className:\"help-text with-margin\"},\"\\u041F\\u043E\\u043C\\u0435\\u043D\\u044F\\u0435\\u0442\\u0435 \\u0441\\u0432\\u043E\\u044E \\u0440\\u043E\\u043B\\u044C \\u2014 \\u043D\\u0435 \\u0441\\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u043E\\u0439 \\xAF\\\\_(\\u30C4)_/\\xAF\"))),React.createElement(\"div\",{className:\"app-input wide-input\"},React.createElement(\"label\",null,\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F, \\u0438\\u043C\\u044F, \\u043E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"),React.createElement(\"input\",{value:formState.name,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{name:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"input-with-help-text\"},React.createElement(\"div\",{className:\"app-input wide-input\"},React.createElement(\"label\",null,\"\\u0411\\u043B\\u043E\\u043A\\u0447\\u0435\\u0439\\u043D\\u043E\\u0432\\u044B\\u0439 \\u0430\\u0434\\u0440\\u0435\\u0441\"),React.createElement(Dropdown,{defaultValue:formState.blockChainAddress,onChange:function onChange(event,_ref3){var value=_ref3.value;return setFormState(_objectSpread({},formState,{blockChainAddress:value}));},search:true,fluid:true,className:\"medium-input app-dropdown-search\",selection:true,options:ADDRESS_OPTIONS,disabled:currentUserRole==='Клиент'||currentUserRole==='Наблюдатель'}),React.createElement(\"button\",{className:\"secondary-button small-button\"},\"\\u041F\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u043D\\u0430 \\u042D\\u0437\\u0435\\u0440\\u0441\\u043A\\u0430\\u043D\\u0435\")),React.createElement(RoleBasedRender,{requiredRoles:['Администратор','Менеджер','Клиент']},React.createElement(\"div\",{className:\"help-text regular-text\"},\"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0441\\u043F\\u0435\\u0440\\u0432\\u0430 \\u043D\\u0430\\u0434\\u043E \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432 \",React.createElement(Link,{className:\"blue-text\",to:\"/addresses\"},\"\\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\")))),React.createElement(\"div\",{className:\"app-input medium-input\"},React.createElement(\"label\",null,\"\\u042D\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u0430\\u044F \\u043F\\u043E\\u0447\\u0442\\u0430\"),React.createElement(\"input\",{value:formState.mail,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{mail:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input small-input\"},React.createElement(\"label\",null,\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"),React.createElement(\"input\",{type:\"password\",value:formState.password,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{password:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input\"},React.createElement(\"label\",null,\"\\u0427\\u0430\\u0441\\u043E\\u0432\\u043E\\u0439 \\u043F\\u043E\\u044F\\u0441\"),React.createElement(Dropdown,{defaultValue:formState.timeZone,onChange:function onChange(event,_ref4){var value=_ref4.value;return setFormState(_objectSpread({},formState,{timeZone:value}));},fluid:true,className:\"time-input app-dropdown-button\",selection:true,options:TIMEZONE_OPTIONS,disabled:shouldDisable}))),user.role==='Клиент'&&React.createElement(React.Fragment,null,React.createElement(\"h2\",null,\"\\u041F\\u043B\\u0430\\u0442\\u0451\\u0436\\u043D\\u044B\\u0435 \\u0440\\u0435\\u043A\\u0432\\u0438\\u0437\\u0438\\u0442\\u044B\"),React.createElement(\"div\",{className:\"app-input-group\"},React.createElement(\"div\",{className:\"app-input wide-input\"},React.createElement(\"label\",null,\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u043B\\u0430\\u0442\\u0435\\u043B\\u044C\\u0449\\u0438\\u043A\\u0430\"),React.createElement(\"input\",{value:formState.payerName,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{payerName:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input medium-input\"},React.createElement(\"label\",null,\"\\u0420\\u0430\\u0441\\u0447\\u0451\\u0442\\u043D\\u044B\\u0439 \\u0441\\u0447\\u0451\\u0442\"),React.createElement(\"input\",{value:formState.paymentAccount,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{paymentAccount:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input wide-input\"},React.createElement(\"label\",null,\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0431\\u0430\\u043D\\u043A\\u0430\"),React.createElement(\"input\",{value:formState.bank,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{bank:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input tiny-input\"},React.createElement(\"label\",null,\"\\u0411\\u0418\\u041A\"),React.createElement(\"input\",{className:\"bik-and-kpp\",value:formState.bik,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{bik:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input\"},React.createElement(\"label\",null,\"\\u041A\\u043E\\u0440\\u0440\\u0435\\u0441\\u043F\\u043E\\u043D\\u0434\\u0435\\u043D\\u0442\\u0441\\u043A\\u0438\\u0439 \\u0441\\u0447\\u0435\\u0442\"),React.createElement(\"input\",{className:\"account\",value:formState.correspondentAccount,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{correspondentAccount:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input tiny-input\"},React.createElement(\"label\",null,\"\\u0418\\u041D\\u041D\"),React.createElement(\"input\",{className:\"inn\",value:formState.inn,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{inn:event.target.value}));},disabled:shouldDisable})),React.createElement(\"div\",{className:\"app-input tiny-input\"},React.createElement(\"label\",null,\"\\u041A\\u041F\\u041F\"),React.createElement(\"input\",{className:\"bik-and-kpp\",value:formState.kpp,onChange:function onChange(event){return setFormState(_objectSpread({},formState,{kpp:event.target.value}));},disabled:shouldDisable})))),!shouldDisable&&React.createElement(\"div\",{className:\"app-button-group\"},React.createElement(\"button\",{className:\"primary-button\",onClick:handleSubmit},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"),React.createElement(\"button\",{className:\"secondary-button\",onClick:resetChanges},\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"))));}var mapStateToProps=function mapStateToProps(state){return{currentUserRole:state.user.role};};export default connect(mapStateToProps,null)(UserProfile);","map":{"version":3,"sources":["/Users/macbook/Documents/Work/MrDrap1/src/components/UserProfile/UserProfile.jsx"],"names":["React","useState","Dropdown","connect","RoleBasedRender","Link","ROLE_OPTIONS","key","text","value","TIMEZONE_OPTIONS","ADDRESS_OPTIONS","UserProfile","user","onSubmit","title","currentUserRole","formState","setFormState","handleSubmit","event","preventDefault","resetChanges","shouldDisable","role","name","target","blockChainAddress","mail","password","timeZone","payerName","paymentAccount","bank","bik","correspondentAccount","inn","kpp","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './UserProfile.scss'\nimport { Dropdown } from \"semantic-ui-react\";\nimport { connect } from 'react-redux';\nimport RoleBasedRender from '../RoleBasedRender/RoleBasedRender';\nimport { Link } from \"react-router-dom\";\n\nconst ROLE_OPTIONS = [\n  {\n    key: 'Клиент',\n    text: 'Клиент',\n    value: 'Клиент',\n  },\n  {\n    key: 'Администратор',\n    text: 'Администратор',\n    value: 'Администратор',\n  },\n  {\n    key: 'Менеджер',\n    text: 'Менеджер',\n    value: 'Менеджер',\n  },\n  {\n    key: 'Наблюдатель',\n    text: 'Наблюдатель',\n    value: 'Наблюдатель',\n  },\n];\n\nconst TIMEZONE_OPTIONS = [\n  {\n    key: 'Россия, Москва',\n    text: 'Россия, Москва',\n    value: 'Россия, Москва',\n  },\n  {\n    key: 'Россия, Владивосток',\n    text: 'Россия, Владивосток',\n    value: 'Россия, Владивосток',\n  },\n];\n\nconst ADDRESS_OPTIONS = [\n  {\n    key: '0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756',\n    text: '0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756',\n    value: '0xF76d0e464B59EfEa4861dEb2ca57aEabF2d6B756',\n  },\n  {\n    key: '0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F',\n    text: '0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F',\n    value: '0x71Dc5c85D8f7128459b1e146A9CfFdD7999A9e3F',\n  },\n];\nfunction UserProfile({ user, onSubmit, title, currentUserRole }) {\n  const [formState, setFormState] = useState(user);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(formState);\n  };\n\n  const resetChanges = event => {\n    event.preventDefault();\n    setFormState(user);\n  };\n\n  const shouldDisable = (currentUserRole === 'Наблюдатель') && (user.role !== 'Наблюдатель');\n\n  return (\n    <div className='profile-page'>\n      <form>\n        <h1>{ title }</h1>\n        <div className='app-input-group'>\n          <RoleBasedRender requiredRoles={ ['Администратор'] } >\n            <div className=\"input-with-help-text\">\n              <div className='app-input role-select'>\n                <label>Роль</label>\n                <Dropdown\n                  defaultValue={ formState.role }\n                  onChange={ (event, { value }) => setFormState({ ...formState, role: value })}\n                  fluid\n                  className=\"small-input app-dropdown-button\"\n                  selection\n                  options={ ROLE_OPTIONS }\n                />\n              </div>\n              { (title === 'Мой профиль') &&\n                <div className=\"help-text with-margin\">\n                  Поменяете свою роль — не сможете больше управлять системой ¯\\_(ツ)_/¯\n                </div>\n              }\n            </div>\n          </RoleBasedRender>\n          <div className='app-input wide-input'>\n            <label>Фамилия, имя, отчество</label>\n            <input value={ formState.name } onChange={ event => setFormState({ ...formState, name: event.target.value })} disabled={ shouldDisable }/>\n          </div>\n          <div className=\"input-with-help-text\">\n            <div className='app-input wide-input'>\n              <label>Блокчейновый адрес</label>\n              <Dropdown\n                defaultValue={ formState.blockChainAddress }\n                onChange={ (event, { value }) => setFormState({ ...formState, blockChainAddress: value })}\n                search\n                fluid\n                className=\"medium-input app-dropdown-search\"\n                selection\n                options={ ADDRESS_OPTIONS }\n                disabled={ currentUserRole === 'Клиент' || currentUserRole === 'Наблюдатель' }\n              />\n              <button className='secondary-button small-button'>Посмотреть на Эзерскане</button>\n            </div>\n            <RoleBasedRender requiredRoles={ ['Администратор', 'Менеджер', 'Клиент'] } >\n              <div className=\"help-text regular-text\">\n                Адрес сперва надо добавить в <Link className=\"blue-text\" to='/addresses'>список</Link>\n              </div>\n            </RoleBasedRender>\n          </div>\n          <div className='app-input medium-input'>\n            <label>Электронная почта</label>\n            <input value={ formState.mail } onChange={ event => setFormState({ ...formState, mail: event.target.value })} disabled={ shouldDisable }/>\n          </div>\n          <div className='app-input small-input'>\n            <label>Пароль</label>\n            <input type='password' value={ formState.password } onChange={ event => setFormState({ ...formState, password: event.target.value })} disabled={ shouldDisable }/>\n          </div>\n          <div className='app-input'>\n            <label>Часовой пояс</label>\n            <Dropdown\n              defaultValue={ formState.timeZone }\n              onChange={ (event, { value }) => setFormState({ ...formState, timeZone: value })}\n              fluid\n              className=\"time-input app-dropdown-button\"\n              selection\n              options={ TIMEZONE_OPTIONS }\n              disabled={ shouldDisable }\n            />\n          </div>\n        </div>\n\n        { (user.role === 'Клиент') &&\n          <>\n            <h2>Платёжные реквизиты</h2>\n            <div className='app-input-group'>\n              <div className='app-input wide-input'>\n                <label>Наименование плательщика</label>\n                <input value={ formState.payerName } onChange={ event => setFormState({ ...formState, payerName: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input medium-input'>\n                <label>Расчётный счёт</label>\n                <input value={ formState.paymentAccount } onChange={ event => setFormState({ ...formState, paymentAccount: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input wide-input'>\n                <label>Наименование банка</label>\n                <input value={ formState.bank } onChange={ event => setFormState({ ...formState, bank: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input tiny-input'>\n                <label>БИК</label>\n                <input className=\"bik-and-kpp\" value={ formState.bik } onChange={ event => setFormState({ ...formState, bik: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input'>\n                <label>Корреспондентский счет</label>\n                <input className=\"account\" value={ formState.correspondentAccount } onChange={ event => setFormState({ ...formState, correspondentAccount: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input tiny-input'>\n                <label>ИНН</label>\n                <input className=\"inn\" value={ formState.inn } onChange={ event => setFormState({ ...formState, inn: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n              <div className='app-input tiny-input'>\n                <label>КПП</label>\n                <input className=\"bik-and-kpp\" value={ formState.kpp } onChange={ event => setFormState({ ...formState, kpp: event.target.value })} disabled={ shouldDisable }/>\n              </div>\n            </div>\n          </>\n        }\n \n        { !shouldDisable && (\n          <div className='app-button-group'>\n            <button className='primary-button' onClick={ handleSubmit }>Сохранить изменения</button>\n            <button className='secondary-button' onClick={ resetChanges }>Отменить</button>\n          </div>\n        )}\n        \n      </form>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  currentUserRole: state.user.role,\n});\n\nexport default connect(mapStateToProps, null)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}